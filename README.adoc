= Vertx-fishs

image:https://img.shields.io/badge/vert.x-4.0.2-purple.svg[link="https://vertx.io"]

This application was generated using http://start.vertx.io

== Building

To package your application:
```
./mvnw clean package
```

To run your application:
```
./mvnw clean compile exec:java
```

To use remote debug
```
./mvnw vertx:debug -Dvertx.verticle=com.bmeynier.article.vertx.fishs.MainVerticle  -Ddebug.suspend=true -Ddebug.port=5005
```

Run
```
mvn vertx:run -Dvertx.verticle=com.bmeynier.article.vertx.fishs.MainVerticle -Dvertx.launcher=com.bmeynier.article.vertx.fishs.FishLauncher
```
=== Auto reload

```
./redeploy.sh
```

=== Auto reload with maven plugin

```
mvn vertx:run -Dvertx.verticle=com.bmeynier.article.vertx.fishs.MainVerticle -Dvertx.launcher=com.bmeynier.article.vertx.fishs.FishLauncher -Dvertx.redeploy
```

=== Auto reload with Intellij:

Launcher:
```
programm argument: run com.bmeynier.article.vertx.fishs.MainVerticle --redeploy=target/classes/**/*.class --launcher-class=com.bmeynier.article.vertx.fishs.FishLauncher
main class: com.bmeynier.article.vertx.fishs.FishLauncher
```
ctrl + MAJ + A
```
Type: Registry
Find the key compiler.automake.allow.when.app.running and enable it or click the checkbox next to it
```
Setting:
```
Build => Build project automatically => check
```

=== other
Deploy multiple instance
```
mvn vertx:run -Dvertx.verticle=com.bmeynier.article.vertx.fishs.MainVerticle -Dvertx.launcher=com.bmeynier.article.vertx.fishs.FishLauncher -Dvertx.runArgs=' --instances=5'
```
==== Help:
```
mvn vertx:help -Ddetail=true -Dgoal=start
```


== Gatling

```
$mvn gatling:test -Dgatling.simulationClass=computerdatabase.BasicSimulation
```

vertx start com.bmeynier.article.vertx.fishs.database.FishDatabaseVerticle  -instances 10 -cp ./target/vertx-fishs-1.0.0-SNAPSHOT-fat.jar
java -jar target/vertx-fishs-1.0.0-SNAPSHOT-fat.jar -Dvertx.metrics.options.enabled=true -Dvertx.metrics.options.jmxEnabled=true
